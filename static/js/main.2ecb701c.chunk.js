(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={About:"MoviesDetails_About__2hBZt",Img:"MoviesDetails_Img__2GRJp",addInfo:"MoviesDetails_addInfo__3Xg8Y",bold:"MoviesDetails_bold__X5mMr",addInfoSection:"MoviesDetails_addInfoSection__SByzl",backBtn:"MoviesDetails_backBtn__2N3ww"}},15:function(e,t,n){},21:function(e,t,n){e.exports={list:"MovieCredits_list__1U39h",Name:"MovieCredits_Name__3eNBs"}},25:function(e,t,n){e.exports={listItem:"MovieReviews_listItem__zfJYi"}},39:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(23),i=n.n(r),s=n(10),o=n(15),h=n.n(o),l=n(2),j=n(6),u=n(7),d=n(9),b=n(8),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/movie?api_key=87547ad0a5cfee0fba05460a073a9eb9&query=".concat(e,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.results}))},m="https://image.tmdb.org/t/p/w185",v=n(0),f=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={trending:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=87547ad0a5cfee0fba05460a073a9eb9").then((function(e){return e.json()})).then((function(e){return e.results})).then((function(t){e.setState({trending:t})}))}},{key:"render",value:function(){var e=this.state.trending;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Trending today"}),Object(v.jsx)("ul",{children:e.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:{pathname:"/movies/".concat(e.id)},children:e.title})},e.id)}))})]})}}]),n}(c.Component);f.defaultProps={};var O=f,x=n(16),g=n(21),y=n.n(g),_=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={credits:{crew:[],cast:[]}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.movieId,fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=87547ad0a5cfee0fba05460a073a9eb9")).then((function(e){return e.json()}))).then((function(e){t.setState({credits:e})})).catch((function(e){t.setState({error:e})}))}},{key:"render",value:function(){var e=this.state.credits;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:y.a.Name,children:"Cast"}),Object(v.jsx)("ul",{children:e&&e.cast&&e.cast.map((function(e){return Object(v.jsxs)("li",{className:y.a.list,children:[e.profile_path&&Object(v.jsx)("img",{src:m+e.profile_path,alt:e.name}),Object(v.jsx)("p",{children:e.name}),Object(v.jsxs)("p",{children:["Character: ",e.character]})]},e.credit_id)}))}),Object(v.jsx)("h2",{children:"Crew"}),Object(v.jsx)("ul",{children:e&&e.crew&&e.crew.map((function(e){return Object(v.jsxs)("li",{children:[e.profile_path&&Object(v.jsx)("img",{src:m+e.profile_path,alt:e.name}),Object(v.jsx)("p",{children:e.name}),Object(v.jsxs)("p",{children:["Job: ",e.job]})]},e.credit_id)}))})]})}}]),n}(c.Component),S=n(25),w=n.n(S),k=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={reviews:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.movieId,fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=87547ad0a5cfee0fba05460a073a9eb9")).then((function(e){return e.json()})).then((function(e){return e.results}))).then((function(e){t.setState({reviews:e})})).catch((function(e){t.setState({error:e})}))}},{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("ul",{children:this.state.reviews.length>0?this.state.reviews.map((function(e){return Object(v.jsxs)("li",{className:w.a.listItem,children:[Object(v.jsxs)("p",{children:["Author: ",e.author]}),Object(v.jsx)("p",{children:e.content})]},e.id)})):Object(v.jsx)("span",{children:" We don't have any reviews for this movie "})})})}}]),n}(c.Component);k.defaultProps={};var I=k,N=n(12),D=n.n(N),M=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).state={movie:{genres:[]}},c.goBack=c.goBack.bind(Object(x.a)(c)),c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.movieId,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=87547ad0a5cfee0fba05460a073a9eb9")).then((function(e){return e.json()}))).then((function(e){t.setState({movie:e})})).catch((function(e){t.setState({error:e})}))}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.state.movie,t=e.id,n=e.title,c=e.poster_path,a=e.vote_average,r=e.overview,i=e.release_date,o=e.genres,h="";return i&&(h=i.substring(0,4)),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:D.a.backBtn,type:"button",onClick:this.goBack,children:"go back"}),Object(v.jsxs)("section",{className:D.a.About,children:[!!c&&Object(v.jsx)("img",{className:D.a.Img,src:"https://image.tmdb.org/t/p/w342/"+c,alt:n}),Object(v.jsxs)("section",{children:[Object(v.jsxs)("h1",{children:[n," (",h,")"]}),Object(v.jsxs)("p",{children:["User score: ",a," "]}),Object(v.jsx)("p",{className:D.a.bold,children:"Overwiew"}),Object(v.jsx)("p",{children:r}),Object(v.jsx)("p",{className:D.a.bold,children:"Genres"}),Object(v.jsx)("ul",{children:o.map((function(e){return Object(v.jsx)("li",{children:e.name},e.id)}))})]})]}),Object(v.jsxs)("section",{className:D.a.addInfoSection,children:[Object(v.jsx)("p",{className:D.a.bold,children:"Additional information"}),Object(v.jsx)(s.b,{className:D.a.addInfo,to:{pathname:"/movies/".concat(t,"/credits")},children:"Credits"}),Object(v.jsx)(s.b,{className:D.a.addInfo,to:{pathname:"/movies/".concat(t,"/reviews")},children:"Reviews"})]}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"/movies/:movieId/credits",component:_}),Object(v.jsx)(l.b,{path:"/movies/:movieId/reviews",component:I})]})]})}}]),n}(c.Component),C=n(22),B=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={search:""},e.handleChange=function(t){e.setState({search:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSearch(e.state.search),e.setState({search:""})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("form",{className:h.a.Form,onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{className:h.a.SearchFormInput,type:"text",placeholder:"Search movies",value:this.state.search,name:"search",onChange:this.handleChange}),Object(v.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(v.jsx)("span",{children:"Search"})})]})}}]),n}(c.Component),A=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],pageNumber:""},e.setSearchQuery=function(t){e.props.history.push(Object(C.a)(Object(C.a)({},e.props.location),{},{search:"query=".concat(t)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search).get("query");t&&p(t).then((function(t){e.setState({movies:t})})).catch((function(t){e.setState({error:t})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this,c=new URLSearchParams(e.location.search).get("query"),a=new URLSearchParams(this.props.location.search).get("query");c!==a&&p(a).then((function(e){n.setState({movies:e})})).catch((function(e){n.setState({error:e})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(B,{onSearch:this.setSearchQuery}),Object(v.jsx)("ul",{children:this.state.movies.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:{pathname:"/movies/".concat(e.id)},children:e.title})},e.id)}))})]})}}]),n}(c.Component),R=function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{marginRight:"16px",color:"inherit",textDecoration:"none",fontWeight:"500"},exact:!0,to:"/",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(s.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{color:"inherit",textDecoration:"none",fontWeight:"500"},to:"/movies",children:"Movies"})})]}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/",component:O}),Object(v.jsx)(l.b,{exact:!0,path:"/movies",component:A}),Object(v.jsx)(l.b,{path:"/movies/:movieId",component:M}),Object(v.jsx)(l.a,{to:"/"})]})]})};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(s.a,{children:Object(v.jsx)(R,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.2ecb701c.chunk.js.map